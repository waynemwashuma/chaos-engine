<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: math/vector.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: math/vector.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let obj = {
  x: 0,
  y: 0
}
let TWO_PI = Math.PI * 2
/**
 * This is a 2D vector class.
 * 
 * @author Wayne Mwashuma &lt;mwashumawayne@gmail.com>
 * @license MIT
 */
class Vector {
  /**
   * @param {number} x the x coordinate of the vector
   * @param {number} y the y coordinate of the vector
   */
  constructor(x, y) {
    this.x = x || 0;
    this.y = y || 0;
  }
  get CHOAS_CLASSNAME() {
    return this.constructor.name.toLowerCase()
  }
  get CHAOS_OBJ_TYPE() {
    return "vector"
  }
  /**
   *Calculates length of this vector and returns 
   * it
   * 
   * @returns {number}
   */
  magnitude() {
    return Math.sqrt(this.magnitudeSquared());
  };
  /**
   * Sets a vector to have the given length.
   * 
   * @param {number} length 
   */
  setMagnitude(length) {
    this.normalize().multiply(length)
  }
  /**
   *Calculates length squared of vector and returns it
   */
  magnitudeSquared() {
    return this.y ** 2 + this.x ** 2
  }
  /**
   *Calculates length of this vector to another vector
   * @param {Vector} v the other vector
   */
  distanceTo(v) {
    obj.x = this.x - v.x
    obj.y = this.y - v.y
    return Math.sqrt(Vector.prototype.magnitudeSquared.call(obj))
  }
  /**
   *Calculates length squared of this vector to another vector
   * 
   * @param {Vector} v the other vector
   * @returns {number}
   */
  distanceToSquared(v) {
    obj.x = this.x - v.x
    obj.y = this.y - v.y
    return Vector.prototype.magnitudeSquared.call(obj)
  }
  /**
   * Adds a given vector into this 
   * 
   * @param {Vector} v
   * @returns {this}
   */
  add(v) {
    this.x += v.x
    this.y += v.y
    return this
  }
  /**
   * Adds a scalar value into this vector's
   * x and y values
   * 
   * @param {number} n
   * @returns {this}
   */
  addScalar(n) {
    this.x += n
    this.y += n
    return this
  }
  /**
   * Subtracts a given vector from this vector
   * 
   * @param {Vector} v
   * @returns {this}
   */
  sub(v) {
    this.x -= v.x
    this.y -= v.y
    return this
  }
  /**
   * Subtracts a scalar value from this vector's x and y values.
   * 
   * @param {number} n
   * @returns {this}
   */
  subScalar(n) {
    this.x -= n
    this.y -= n
    return this
  }
  /**
   * Calculates the dot product of two vectors.
   * 
   * @param {Vector} v
   * @returns {number}
   */
  dot(v) {
    return this.x * v.x + this.y * v.y
  }
  /**
   * Calculates the cross product of two vectors.
   * 
   * @param {Vector} vproduct
   * @returns {number}
   */
  cross(v) {
    return this.x * v.y - this.y * v.x
  }
  /**
   * Multiplies this vector with a scalar.
   * 
   * @param {number} n 
   * @returns {this}
   */
  multiply(n) {
    this.x *= n
    this.y *= n
    return this
  }
  /**
   * Divides this vector with a scalar.
   * 
   * @param {number} n 
   * @returns {this}
   */
  divide(n) {
    this.multiply(1 / n)
    return this
  }
  /**
   * Makes this vector a unit vector by 
   * dividing its components with its length.
   * 
   * @returns {this}
   */
  normalize() {
    const length = this.magnitude()
    if (length == 0) return this
    this.x = this.x / length
    this.y = this.y / length
    return this
  };
  /**
   * Checks to see if this vector is equal to
   * another vector.
   * 
   * @param {Vector} v
   * @returns {boolean}
   */
  equals(v) {
    return v.x === this.x &amp;&amp; v.y === this.y
  }
  /**
   * Checks if the vector length is zero.
   * 
   * @returns {boolean}
   */
  equalsZero() {
    return this.x === 0 &amp;&amp; this.y === 0
  }
  /**
   * Returns a scaled vector normal to this vector,when scaled to 1,it returns a unit vector.
   * 
   * @param {number} l the length of the vector returned.
   * @param {Vector} [target = Vector] Vector in which results are stored.
   * @returns {Vector}
   */
  normal(l = 1, target) {
    target = target || new Vector()
    target.copy(this).normalize()
    return target.set(-target.y * l, target.x * l);
  };
  /**
   * Returns the normal to a vector, the normal has the same length as the vector.
   * 
   * @param {Vector} [target = Vector] Vector in which results are stored.
   *  @returns {Vector}
   */
  normalFast(target = new Vector()) {
    return target.set(-this.y, this.x)
  }
  /**
   * Rotates this vector by a given angle in radians.
   * 
   * @param {Vector} Angle in radians
   * @returns {this}
   */
  rotate(rad) {
    let
      x = this.x,
      cos = Math.cos(rad),
      sin = Math.sin(rad)
    this.x = x * cos - this.y * sin;
    this.y = x * sin + this.y * cos;
    return this
  };
  /**
   * Returns an array with x and y values of
   * this vector pushed into the array in
   * that order.
   * 
   * @param {number[]} [target = []] The array to
   * push values.Defaults to creating a new
   * array if not provided one
   * @returns number[]
   */
  toArray(target = [], offset = 0) {
    target[offset] = this.x
    target[offset + 1] = this.y
    return target;
  }
  /**
   * Copies x and y values of this vector to 
   * a new vector and returns the new vector.
   * 
   * @return Vector
   */
  clone() {
    return new Vector(this.x, this.y)
  }
  /**
   * Copies x and y values of another vector
   * to this vector.
   * 
   * @@param {Vector} v 
   * @return this
   */
  copy(v) {
    this.x = v.x
    this.y = v.y
    return this
  }
  /**
   * Sets x and y values of this vector to the given parameter.
   * 
   * @param {Number} x 
   * @param {Number} y
   * @returns {this}
   */
  set(x, y) {
    this.x = x
    this.y = y
    return this
  }
  /**
   * Draws this vector to a 2D canvas.
   * 
   * @param {CanvasRenderingContext2D} ctx the context to draw on.
   * @param {number} x Translates the x-coordinate origin of the vector
   * @param {number} y Translates the y-coordinate origin of the vector
   * @param {string} color a CSS string that
   * is supplied to the rendering context.Can
   *  be a hex(e.g "0xFFFFFF"),rgb(e.g "rgb(255,255,255)"),hsl or a color name(e.g "white")
   * @param {Number} scale A value that
   * lengthens or shortens the length of the vector
   * @returns {this}
   */
  draw(ctx, x = 0, y = 0, color = "red", scale = 1) {
    ctx.beginPath()
    ctx.moveTo(x, y)
    ctx.lineTo(this.x * scale + x, this.y * scale + y)
    //ctx.arc(this.x * scale + x, this.y * scale + y, 2, 0, Math.PI * 2)
    ctx.strokeStyle = color
    ctx.stroke()
    ctx.strokeStyle = "black"
    ctx.closePath()
    return this
  }
  /**
   * Negates the values of this vector.
   * 
   * @returns {this}
   */
  reverse() {
    return this.multiply(-1)
  }
  /**
   * Returns a vector of this reflected on a sirface perpendicular to the normal.
   * 
   * @param {number} normal the unit vector perpendicular to reflection surface
   * @return {Vector}
   */
  reflect(normal, target) {
    target = target || new Vector()
    return target.copy(normal).multiply(this.dot(normal) * 2).sub(this)
  }
  /**
   * Forces this vector to have a length 
   * between the min and max.
   * 
   * @param {number} [min = 0] The smallest value 
   * the length of this vector is allowed to have.
   * @param {number} [max = 1] The biggest value the length of this vector is allowed to have.
   * @returns {this}
   */
  clamp(min = 0, max = 1) {
    let length = this.magnitude()
    if (length == 0) return this
    if (length > max)
      return this.multiply(max / length)
    if (length &lt; min)
      return this.multiply(min / length)
    return this
  }

  [Symbol.iterator] = function*() {
    yield this.x
    yield this.y
  }
  /**
   * Gets the angle (in degrees) between two
   * vectors in the range 0° to 360° in the anticlockwise direction from v1 to v2
   * 
   * @param {Vector} v1 start of the angle
   * @param {Vector} v2 end of the angle
   * @returns {number}
   */
  static getAbsDegBtwn(v1, v2) {
    let a = v1.cross(v2)
    let deg = Vector.getDegBtwn(v1, v2)
    return a &lt; 0 ? deg : 360 - deg
  }
  /**
   * Same as `Vector.getAbsDegBtwn` but returns in radians.
   * 
   * @param { Vector } v1 start of the angle
   * @param { Vector } v2 end of the angle
   * @returns {number}
   **/
  static getAbsRadBtwn(v1, v2) {
    let a = v1.cross(v2)
    let deg = Vector.getDegBtwn(v1, v2)
    return a &lt; 0 ? deg : 360 - deg
  }
  /**
   * Gets the angle (in radians) between two
   * vectors in the shortest direction from v1 to v2 in the range of `0` to `Math.PI`
   * 
   * @param {Vector} v1 start of the angle
   * @param {Vector} v2 end of the angle
   * @returns {number}
   */
  static getRadBtwn(v1, v2) {
    return Math.acos(v1.dot(v2) / (v1.magnitude() * v2.magnitude()))
  }
  /**
   * Gets the angle (in degrees) between two
   * vectors in shortest direction from v1 to v2 in the range `0°` to `180°`
   * 
   * @param {Vector} v1 start of the angle
   * @param {Vector} v2 end of the angle
   * @returns {number}
   */
  static getDegBtwn(v1, v2) {
    return Vector.getRadBtwn(v1, v2) * 180 / Math.PI
  }
  /**
   * Returns a unit vector pointing in the
   * given angle starting from the positive x axis.
   * 
   * @param {number} radian angle in radians from 0 to `Math.PI * 2`
   * @param {Vector} target Vector to store results in.
   * @returns {Vector}
   */
  static fromRad(radian, target = new Vector()) {
    return target.set(Math.cos(radian), Math.sin(radian))
  }
  /**
   * Returns a unit vector pointing in the
   * given angle from the positive x axis
   * 
   * @param {number} degree angle in radians from `0°` to `360°`
   * @param {Vector} target Vector to store results in.
   * @returns {Vector}
   */
  static fromDeg(degree, target) {
    return Vector.fromRad(degree * Math.PI / 180, target)
  }
  /**
   * Generates a new unit Vector in a random direction
   * 
   * @returns {Vector}
   */
  static random(target) {
    return Vector.fromRad(Math.random() * TWO_PI, target)
  }
  /**
   * Returns a Vector that has been lerped between v1 and v2
   * @param {Vector} v1 the vector to lerp from
   * @param {Vector} v2 the vector to lerp from
   * @param {number} t a value from 0 to 1 to scale the new Vector between v1 and v2
   * @param {Vector} target the vector to store results into
   * 
   * @returns {Vector}
   */
  static lerp(v1, v2, t, target) {
    target = target || new Vector()
    return target.copy(v1).set(
      (v2.x - v1.x) * t + v1.x,
      (v2.y - v1.y) * t + v1.y
    )
  }

  /**
   * Returns the angle in degrees between the positive x-axis and the vector.
   * 
   * @param {Vector} v
   * @returns {number}
   */
  static toDeg(v) {
    return Vector.toRad(v) / Math.PI * 180
  }

  /**
   * Returns the angle in radians between the positive x-axis and the vector.
   * 
   * @param {Vector} v
   * @returns {number}
   */
  static toRad(v) {
    let a = Math.atan2(v.y, v.x)
    return a &lt; 0 ? TWO_PI + a : a
  }

  /**
   * A vector whose x and y values will remain 0.
   * 
   * @type {Vector}
   */
  static ZERO = Object.freeze(new Vector())

}

export {
  Vector
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Cookie.html">Cookie</a></li><li><a href="module-Session.html">Session</a></li><li><a href="module-Utils.html">Utils</a></li></ul><h3>Classes</h3><ul><li><a href="Agent.html">Agent</a></li><li><a href="AgentManager.html">AgentManager</a></li><li><a href="Angle.html">Angle</a></li><li><a href="ArriveBehaviour.html">ArriveBehaviour</a></li><li><a href="AudioHandler.html">AudioHandler</a></li><li><a href="Ball.html">Ball</a></li><li><a href="Behaviour.html">Behaviour</a></li><li><a href="BehaviourManager.html">BehaviourManager</a></li><li><a href="Body.html">Body</a></li><li><a href="BodySprite.html">BodySprite</a></li><li><a href="Bound.html">Bound</a></li><li><a href="BoundingBox.html">BoundingBox</a></li><li><a href="BoundingCircle.html">BoundingCircle</a></li><li><a href="Box.html">Box</a></li><li><a href="Broadphase.html">Broadphase</a></li><li><a href="Circle.html">Circle</a></li><li><a href="Clock.html">Clock</a></li><li><a href="Composite.html">Composite</a></li><li><a href="Constraint.html">Constraint</a></li><li><a href="DOMEventHandler.html">DOMEventHandler</a></li><li><a href="DistanceConstraint.html">DistanceConstraint</a></li><li><a href="Entity.html">Entity</a></li><li><a href="EulerSolver.html">EulerSolver</a></li><li><a href="EvadeBehaviour.html">EvadeBehaviour</a></li><li><a href="EventDispatcher.html">EventDispatcher</a></li><li><a href="Flock.html">Flock</a></li><li><a href="Grid.html">Grid</a></li><li><a href="ImageSprite.html">ImageSprite</a></li><li><a href="Input.html">Input</a></li><li><a href="Keyboard.html">Keyboard</a></li><li><a href="Manager.html">Manager</a></li><li><a href="Matrix2.html">Matrix2</a></li><li><a href="Mouse.html">Mouse</a></li><li><a href="Movable.html">Movable</a></li><li><a href="NaiveBroadphase.html">NaiveBroadphase</a></li><li><a href="Particle.html">Particle</a></li><li><a href="PathFollowing.html">PathFollowing</a></li><li><a href="Pool.html">Pool</a></li><li><a href="Pursuit.html">Pursuit</a></li><li><a href="Rectangle.html">Rectangle</a></li><li><a href="Renderer.html">Renderer</a></li><li><a href="Renderer2D.html">Renderer2D</a></li><li><a href="RungeKuttaSolver.html">RungeKuttaSolver</a></li><li><a href="SeekBehaviour.html">SeekBehaviour</a></li><li><a href="Sfx.html">Sfx</a></li><li><a href="Shape.html">Shape</a></li><li><a href="SpringConstraint.html">SpringConstraint</a></li><li><a href="Sprite.html">Sprite</a></li><li><a href="StaticImageSprite.html">StaticImageSprite</a></li><li><a href="System.html">System</a></li><li><a href="Touch.html">Touch</a></li><li><a href="Transform.html">Transform</a></li><li><a href="Tree.html">Tree</a></li><li><a href="Triangle.html">Triangle</a></li><li><a href="Vector.html">Vector</a></li><li><a href="VectorPool.html">VectorPool</a></li><li><a href="VerletSolver.html">VerletSolver</a></li><li><a href="WanderBehaviour.html">WanderBehaviour</a></li><li><a href="WebGLRenderer.html">WebGLRenderer</a></li><li><a href="WebGPURenderer.html">WebGPURenderer</a></li><li><a href="World.html">World</a></li></ul><h3>Interfaces</h3><ul><li><a href="Component.html">Component</a></li></ul><h3>Global</h3><ul><li><a href="global.html#BodyType">BodyType</a></li><li><a href="global.html#ContactSolver">ContactSolver</a></li><li><a href="global.html#DEVICE">DEVICE</a></li><li><a href="global.html#Err">Err</a></li><li><a href="global.html#Events">Events</a></li><li><a href="global.html#FrictionSolver">FrictionSolver</a></li><li><a href="global.html#ImpulseSolver">ImpulseSolver</a></li><li><a href="global.html#ObjType">ObjType</a></li><li><a href="global.html#Overlaps">Overlaps</a></li><li><a href="global.html#PenetrationSolver">PenetrationSolver</a></li><li><a href="global.html#SAT">SAT</a></li><li><a href="global.html#ShapeType">ShapeType</a></li><li><a href="global.html#Storage">Storage</a></li><li><a href="global.html#clamp">clamp</a></li><li><a href="global.html#defaultCollisionHandler">defaultCollisionHandler</a></li><li><a href="global.html#defaultPrecollisionHandler">defaultPrecollisionHandler</a></li><li><a href="global.html#degToRad">degToRad</a></li><li><a href="global.html#exp">exp</a></li><li><a href="global.html#lerp">lerp</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#naturalizePair">naturalizePair</a></li><li><a href="global.html#r">r</a></li><li><a href="global.html#radToDeg">radToDeg</a></li><li><a href="global.html#rand">rand</a></li><li><a href="global.html#round">round</a></li><li><a href="global.html#sq">sq</a></li><li><a href="global.html#sqrt">sqrt</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Jul 07 2023 15:03:23 GMT+0300 (East Africa Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
